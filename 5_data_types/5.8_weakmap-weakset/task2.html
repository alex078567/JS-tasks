<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Хранение времени прочтения</title>
	</head>
	<body>
		<script>
			'use strict';

			let messages = [
				{ text: 'Hello', from: 'John' },
				{ text: 'How goes?', from: 'John' },
				{ text: 'See you soon', from: 'Alice' },
			];

			// используем WeakMap
			const readMessagesDate = new WeakMap();
			readMessagesDate.set(messages[2], new Date());
			console.log(readMessagesDate);
			//сообщение удалено
			messages.pop();
			setTimeout(() => {
				console.log(readMessagesDate);
			}, 5000);
		</script>
	</body>
</html>
